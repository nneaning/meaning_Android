<br>

<h1 align="center">ğŸŒœ ë¯¸ë¼í´ ëª¨ë‹ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë‹¹ì‹ ì˜ ì˜ë¯¸ìˆëŠ” ì•„ì¹¨, meaning ğŸŒ </h1>

<br>
<h1 align="center"> :point_down:   meaning_Android   :point_down:  </h1> 
<p align="center"><img src="https://user-images.githubusercontent.com/72931738/103662188-fbab1b80-4fb2-11eb-85b5-6be4f306c3b6.png"> </p>
<p align="center"><img src="https://user-images.githubusercontent.com/72931738/103662194-fcdc4880-4fb2-11eb-8f4f-2642206e9036.png"> </p>

</br>

</br>

 <h1 align="center"> ğŸ´  About US </h1>

<table align="center">
    <th align="center">ì§„ìˆ˜</th>
    <th align="center">íš¨ì†¡</th>
    <th align="center">í˜•ì¤€</th>
    <tr>
        <td align="center">
           <img src="https://user-images.githubusercontent.com/72931738/103460899-7da20700-4d5d-11eb-9ffa-1d64e8aed633.jpg" width=240>
        </td>
        <td align="center">
           <img src="https://user-images.githubusercontent.com/72931738/103460895-7844bc80-4d5d-11eb-83de-739da40b035c.jpg" width=240>
        </td>
        <td align="center">
           <img src="https://user-images.githubusercontent.com/72931738/103460896-7aa71680-4d5d-11eb-9266-a175341578f9.jpg" width=240>
        </td>
    </tr>
    <tr>
        <td align="center">
            <p>
                <b>Contact:</b>parkjinsu4755@gmail.com
            </p>
            <p>
                <b>GitHub:</b><a href="https://github.com/jinsu4755">jinsu4755</a>
            </p>
       </td>
       <td align="center">
            <p>
                <b>Contact:</b>gythd1998@gmail.com
            </p>
            <p>
                <b>GitHub:</b><a href="https://github.com/hyooosong">hyooosong</a>
            </p>
       </td>
        <td align="center">
            <p>
                <b>Contact:</b> leehj1232@naver.com
            </p>
            <p>
                <b>GitHub:</b><a href="https://github.com/LEE-HYUNGJUN">LEE-HYUNGJUN</a>
            </p>
       </td>
   </tr>
</table>


</br>

### ğŸ¦‚ì§„ìˆ˜

```text
- íƒ€ì„ìŠ¤í…œí”„ ì¹´ë©”ë¼
- ë¡œê·¸ì¸
- ì˜¨ë³´ë”©
- ì„œë²„ ì—°ê²° ë¡œì§ êµ¬í˜„
```



### ğŸ… íš¨ì†¡

```text
- ê·¸ë£¹ íƒ­
- ìº˜ë¦°ë” ë·°
- sharedPreferences ì‹±ê¸€í†¤ ê°ì²´ êµ¬í˜„
```



### ğŸ‘¨ ğŸ‘§ í˜•ì¤€

```text
- í™ˆ ë©”ì¸í˜ì´ì§€
- ì¹´ë“œ ë·° ì• ë‹ˆë©”ì´ì…˜
- ë§ˆì´ í”¼ë“œ, ê·¸ë£¹ í”¼ë“œ
- í”¼ë“œ ìƒì„¸ë³´ê¸° ë·°
```

# ğŸ† Meeting Log

### [ ğŸ´ ë¯¸ë‹ì–¸ì¦ˆ ì•ˆë“œë¡œë¯¸ë‹ íšŒì˜ë¡ ](https://www.notion.so/ec59ed3e87cd4c14b91e416177f60900)

</br>


# ğŸ“  List 

### 1. [Service]
### 2. [Andromeaning Development Environment]
### 3. [Work Flow]
### 4. [Dependencies]
### 5. [Team Role]
   - [Andromeaning Conventions]
   - [Andromeaning Coding Style]
   - [Code Review Guideline]
   - [Git]
### 6. [meaning Tech Stack]
### 7. [Packaging]
### 8. [Main Feature Codes & Methods]

<br>

# ğŸ’« Service about `meaning`
<p align="center"><img src="https://user-images.githubusercontent.com/45380072/104350353-688c5b80-5547-11eb-80cf-1d3d4921e2c6.png" width=300> </p>

<h2 align="center"> ëª¨ë“  ê²ƒì€ ë°”ë€” ìˆ˜ ìˆê³  ë‚˜ ì—­ì‹œ ë¬´ì–¸ê°€ë¥¼ ë°”ê¿€ ìˆ˜ ìˆìŠµë‹ˆë‹¤. </h2>
<p align="center">  ê¸°ìƒì‹œê°„ì´ ë‹¬ë¼ì§„ë‹¤ë©´, ë‹¹ì‹ ë„ ë³€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p>
<p align="center"> â€˜ë‚´â€™ê°€ ëˆˆ ëœ¨ëŠ” ì‹œê°„ì´ ì•„ë‹Œ, â€˜í•´â€™ê°€ ëœ¨ëŠ” ì‹œê°„ë¶€í„° í•˜ë£¨ë¥¼ ì‹œì‘í•˜ëŠ” ë¯¸ë¼í´ ëª¨ë‹.</p>
<p align="center"> ë¯¸ë‹ì„ í†µí•´ ë¯¸ë¼í´ ëª¨ë‹ì— ë„ì „í•˜ë©° ë‹¹ì‹ ë§Œì˜ ì˜ë¯¸ìˆëŠ” ì•„ì¹¨ì„ ë§Œë“¤ì–´ ë‚˜ê°€ë³´ì„¸ìš”. </p>
<p align="center">  ì¼ì° ì¼ì–´ë‚˜ëŠ” ìŠµê´€ìœ¼ë¡œ í•˜ë£¨ë¥¼ ê¸¸ê²Œ ë³´ë‚´ë©´, ì„±ì¥ì˜ ë°œíŒì„ ë§ˆë ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </p>
<p align="center">  ë¯¸ë‹ê³¼ í•¨ê»˜ ì²´ê³„ì ì¸ ê³„íšì„ ì„¸ìš°ê³  ì´ë¥¼ ê·œì¹™ì ìœ¼ë¡œ ì‹¤ì²œí•˜ë©´ì„œ ì„±ì·¨ê°ì„ ì–»ì–´ë³´ì„¸ìš”.</p>
<p align="center"> ì„±ì¥ì§€í–¥ì ì¸ ê·¸ë£¹ì›ê³¼ ëª©í‘œë¥¼ ê³µìœ í•œë‹¤ë©´ ìš°ë¦¬ëŠ” í•¨ê»˜, ë” ë©€ë¦¬ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<br>
<br>

# ğŸ’« Development Environment

![Android_Studio](https://img.shields.io/badge/Android%20Studio-4.1.*-success)
![Kotlin](https://img.shields.io/badge/Kotlin%20-1.4.21-orange)

<br>

# ğŸ’« Work Flow
<p align="center"> <img src="https://user-images.githubusercontent.com/59385491/104686958-a7860100-5741-11eb-95a6-690cd0993957.png" width="500"/> </p>

# ğŸ’« Dependencies
<table align="center">
<tr> 
<td> Name </td>
<td> Gradle </td>
</tr>
<tr> 
<td>kotlin </td>
<td>  org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version</td>
</tr>
<tr> 
<td>Android KTX </td>
<td> implementation 'androidx.core:core-ktx:1.3.2 </td>
</tr>
<tr> 
<td>Design </td>
<td> androidx.appcompat:appcompat:1.2.0 </td>
</tr>
<tr> 
<td> </td>
<td>com.google.android.material:material:1.2.1 </td>
</tr>
<tr> 
<td> </td>
<td>  androidx.constraintlayout:constraintlayout:2.0.4 </td>
</tr>
<tr> 
<td> </td>
<td> androidx.legacy:legacy-support-v4:1.0.0 </td>
</tr>
<tr> 
<td>viewModel init support </td>
<td>androidx.activity:activity-ktx:1.1.0 </td>
</tr>
<tr> 
<td> </td>
<td> androidx.fragment:fragment-ktx:1.2.5 </td>
</tr>
<tr> 
<td>  LiveData and ViewModel (Arch components)</td>
<td>  androidx.lifecycle:lifecycle-livedata-ktx:2.2.0 </td>
</tr>
<tr> 
<td> </td>
<td>androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0 </td>
</tr>
<tr> 
<td>retrofit </td>
<td> com.squareup.retrofit2:retrofit:2.9.0 </td>
</tr>
<tr> 
<td> </td>
<td>  com.squareup.retrofit2:converter-gson:2.9.0 </td>
</tr>
<tr> 
<td> </td>
<td>com.squareup.okhttp3:logging-interceptor:4.9.0 </td>
</tr>
<tr> 
<td>Gson </td>
<td> com.google.code.gson:gson:2.8.6</td>
</tr>
<tr> 
<td> CameraX core library using camera2 implementation</td>
<td> androidx.camera:camera-core:$camerax_version </td>
</tr>
<tr> 
<td> </td>
<td> androidx.camera:camera-camera2:$camerax_version </td>
</tr>
<tr> 
<td> CameraX Lifecycle Library</td>
<td> androidx.camera:camera-lifecycle:$camerax_version </td>
</tr>
<tr> 
<td> CameraX View class</td>
<td>androidx.camera:camera-view:1.0.0-alpha20 </td>
</tr>
<tr> 
<td> Test </td>
<td> junit:junit:4.13.1</td>
</tr>
<tr> 
<td> </td>
<td> androidx.test.ext:junit:1.1.2</td>
</tr>
<tr> 
<td> </td>
<td>androidx.test.espresso:espresso-core:3.3.0 </td>
</tr>
<tr> 
<td> image load </td>
<td> com.github.bumptech.glide:glide:4.11.0 </td>
</tr>
<tr> 
<td> </td>
<td>com.github.bumptech.glide:compiler:4.11.0 </td>
</tr>
<tr> 
<td> splash lottie</td>
<td> com.airbnb.android:lottie:3.5.0 </td>
</tr>
</table>
<br>

- **Material Design Component**
  êµ¬ê¸€ Material Designì„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” êµ¬í˜„ì²´ ì œê³µ ë¼ì´ë¸ŒëŸ¬ë¦¬, UIì— ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

- **Glide**
  url í˜•ì‹ ì´ë¯¸ì§€ë¥¼ `ImageView`ì— í‘œì‹œí•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

- **AAC Lifecycle**
  Live Data, Lifecycle, ViewModel ê³¼ ê°™ì€ ìƒëª…ì£¼ê¸°ì™€ ì—°ë™ëœ ì»´í¬ë„ŒíŠ¸ë“¤ê³¼ í´ë˜ìŠ¤ ì œê³µ

- **Coroutine**
ë¹„ë™ê¸° ì‘ì—…ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ íƒ€ì„ìŠ¤í…œí”„ ì¹´ë©”ë¼ì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œê°„ì˜ ë³€ê²½ì„ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©.

-  **Activity, Fragment ktx**
  ViewModelì„ onCreateì—ì„œ ì´ˆê¸°í™” í•˜ëŠ”ê²½ìš° ì—¬ëŸ¬ë²ˆ ìƒì„±í˜¹ì€ ìƒíƒœ ì†ì‹¤ì„ ë§‰ê¸° ìœ„í•´ lazy delegate ì‘ì—…ìœ¼ë¡œ viewModel ê°ì²´ë¥¼ ë°›ì•„ì„œ ì‚¬ìš©.

- **Retrofit**
  ì•ˆë“œë¡œì´ë“œ REST API í†µì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬. AsyncTask ì—†ì´ Background Threadì—ì„œ ì‹¤í–‰ë˜ë©° callbackì„ í†µí•´ Main Threadì—ì„œì˜ UI ì—…ë°ì´íŠ¸ë¥¼ ê°„ë‹¨í•˜ê²Œ í•  ìˆ˜ ìˆë„ë¡ ì œê³µ. ì„œë²„ í†µì‹ ì„ ìœ„í•´ ì‚¬ìš©.

- **CameraX**
  CameraXëŠ” ì¹´ë©”ë¼ ì•± ê°œë°œì„ ë” ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì§„ Jetpack ì§€ì› ë¼ì´ë¸ŒëŸ¬ë¦¬, íƒ€ì„ìŠ¤í…œí”„ ì¹´ë©”ë¼ ë¶€ë¶„ì—ì„œ ì‚¬ìš©.

- **Lottie**
  Splash ë° Login ë°°ê²½ìœ¼ë¡œ ì‚¬ìš©

<br>

# ğŸ’« Team Role

  - ## ğŸŒ± [Andromeaning Conventions](https://github.com/nneaning/meaning_Android/wiki)

  - ## ğŸŒ± [Andromeaning Coding Style](https://github.com/nneaning/meaning_Android/wiki/Andromeaning-Coding-Style)

  - ## ğŸŒ± [Code Review Guideline](https://github.com/nneaning/meaning_Android/wiki/Code-Review-Guideline)

  - ## ğŸŒ± Git

    - ` feat ` : ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°
    - ` fix ` : ë²„ê·¸ ìˆ˜ì •í•˜ëŠ” ê²½ìš°
    - ` style ` : ìƒ‰ìƒ ë³€ê²½, í°íŠ¸ ë³€ê²½ ë“±ì´ ìˆëŠ” ê²½ìš°
    - ` refactor ` : ì½”ë“œ ë¦¬íŒ©í† ë§ í•˜ëŠ” ê²½ìš°
    - ` upload ` : íŒŒì¼ ìƒì„±í•˜ëŠ” ê²½ìš°
    - ` docs ` : ë¬¸ì„œ ìˆ˜ì •í•˜ëŠ” ê²½ìš°

    ### Git issue template

    ![image](https://user-images.githubusercontent.com/45380072/104743408-032aab80-578f-11eb-94b9-6a7bb5370c67.png)

    ### Git PR template

    ![image](https://user-images.githubusercontent.com/45380072/104743459-12a9f480-578f-11eb-8489-b5351dc60097.png)

    ### Code review

    ![image](https://user-images.githubusercontent.com/45380072/104744010-b693a000-578f-11eb-92df-59117e8d34ae.png)

    

  - ## ğŸŒ±Github Action & Slack bot

    ### Slack Bot

    - Github Action ìë™ ë¹Œë“œê°€ ì„±ê³µí•œ ê²½ìš°.

    <img src="https://user-images.githubusercontent.com/45380072/104742491-d75af600-578d-11eb-9d5d-433457b58546.png" alt="image" width="500" />

    - Github Action ìë™ë¹Œë“œëŠ” ì„±ê³µí–ˆìœ¼ë‚˜ íŒŒì¼ ì—…ë¡œë“œ ê³¼ì •ì— ë¬¸ì œê°€ ìƒê¸´ ê²½ìš°

    <img src="https://user-images.githubusercontent.com/45380072/104742537-e9d52f80-578d-11eb-9baa-5e0940901ddb.png" alt="image" width="500" />

    - Github Action ìë™ ë¹Œë“œë„ ì‹¤íŒ¨í•œ ê²½ìš°

    <img src="https://user-images.githubusercontent.com/45380072/104742576-f22d6a80-578d-11eb-888a-cc527dc2c662.png" alt="image" width="500" />

    ### Github Action

    ```
    name: MeaningAndroid Builder
    
    on:
      push:
        branches: [ develop ]
    
    defaults:
      run:
        shell: bash
        working-directory: .
    
    jobs:
      build:
        name: Generate APK
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v2
            
    
          - name: Gradle cache
            uses: actions/cache@v2
            with:
              path: |
                ~/.gradle/caches
                ~/.gradle/wrapper
              key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*') }}
              restore-keys: |
                ${{ runner.os }}-gradle-
          - name: set up JDK 1.8
            uses: actions/setup-java@v1
            with:
              java-version: 1.8
    
          - name: Change gradlew permissions
            run: chmod +x ./gradlew
    
          - name: Build with Gradle
            run: ./gradlew assembleDebug
    
          - name: On Failed, Notify in Slack
            if: ${{ failure() }}
            uses: rtCamp/action-slack-notify@v2
            env:
              SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK_URL }}
              SLACK_TITLE: 'nneaning/Anroid Debug build FailâŒ'
              SLACK_COLOR: '#FF5733'
              MSG_MINIMAL: true
              SLACK_MESSAGE: 'ì—ëŸ¬ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”'
    
          - name: Upload APK
            if: ${{ success() }}
            uses: actions/upload-artifact@v2
            with:
              name: apk
              path: app/build/outputs/apk/debug/
    
    
      upload:
        needs: [build]
        name: upload to Slack
        runs-on: ubuntu-latest
        steps:        
          - name: download Article
            uses: actions/download-artifact@v2
            with:
              name: apk
              
          - name: Update Release apk name
            if: ${{ success() }}
            run: |
              mv app-debug.apk ë¯¸ë‹-Debug.apk
              echo 'apk=ë¯¸ë‹-Debug.apk' >> $GITHUB_ENV
              
          - name: Upload APK at Slack
            if: ${{ success() }}
            run: |
              curl -X POST \
              -F file=@$apk \
              -F channels=${{secrets.SLACK_CHANNEL_ID}} \
              -H "Authorization: Bearer ${{secrets.SLACK_BOT_TOKEN}}" \
              https://slack.com/api/files.upload
              
          - name: On Success
            if: ${{ success() }}
            uses: rtCamp/action-slack-notify@v2
            env:
              SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK_URL }}
              SLACK_TITLE: 'nneaning/Anroid Debug build Successâœ…'
              SLACK_COLOR: '#5BFF33'
              MSG_MINIMAL: true
              SLACK_MESSAGE: 'apk ìƒì„± ì™„ë£Œ! '
    
          - name: On Success but Fail
            if: ${{ failure() }}
            uses: rtCamp/action-slack-notify@v2
            env:
              SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK_URL }}
              SLACK_TITLE: 'nneaning/Anroid Debug build Successâœ…'
              SLACK_COLOR: '#FFF233'
              MSG_MINIMAL: true
              SLACK_MESSAGE: 'ë¹Œë“œëŠ” ì™„ë£Œ ë˜ì—ˆìœ¼ë‚˜ apkì—…ë¡œë“œ ì—ëŸ¬'
    ```

    

<br>
<br>

# ğŸ’« meaning Tech Stack
>  **MVCì™€ MVVMì˜ í˜¼í•© ì•„í‚¤í…ì²˜ë¡œ ê°œë°œ í•˜ì˜€ìŠµë‹ˆë‹¤.**

-  ** AAC DataBinding, ViewModel  **

  ```kotlin
  private lateinit var binding: ActivityLoginBinding
  override fun onCreate(savedInstanceState: Bundle?) {
      super.onCreate(savedInstanceState)
      binding = DataBindingUtil.setContentView(this, R.layout.activity_login)
      binding.viewModel = loginViewModel
      binding.lifecycleOwner = this
      initView()
  }
  ```

  ```kotlin
  private val loginViewModel: LoginViewModel by viewModels {
      object : ViewModelProvider.Factory {
          override fun <T : ViewModel?> create(modelClass: Class<T>): T =
              LoginViewModel(MeaningStorage.getInstance(this@LoginActivity)) as T
      }
  }
  ```

- **Coroutine - ë¹„ë™ê¸° ì‘ì—…**

  ```kotlin
  fun runCurrentTimer() = viewModelScope.launch() {
      while (isEnableTimer) {
          _currentTime.value = SimpleDateFormat(TIME_FORMAT, Locale.KOREA)
              .format(System.currentTimeMillis())
          _currentDate.value = SimpleDateFormat(DATE_FORMAT, Locale.KOREA)
              .format(System.currentTimeMillis())
          delay(10000)
      }
  }
  ```

- **CameraX**

  ```kotlin
  private fun startCamera() {
      val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())
      cameraProviderFuture.addListener(
          cameraProvideFutureListener(cameraProviderFuture),
          getMainExecutor()
      )
  }
  private fun cameraProvideFutureListener(
      cameraProviderFuture: ListenableFuture<ProcessCameraProvider>
  ) = Runnable {
      val cameraProvider: ProcessCameraProvider = cameraProviderFuture.get()
      val preview = getCameraPreview()
      val cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA
      setImageCapture()
      try {
          cameraProvider.unbindAll()
          cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture)
      } catch (failBindException: Exception) {
          Log.e(TAG, "Use case binding failed", failBindException)
      }
  }
  private fun getCameraPreview(): Preview = Preview.Builder()
      .build()
      .also {
          it.setSurfaceProvider(binding.cameraViewFinder.surfaceProvider)
      }
  private fun setImageCapture() {
      imageCapture = ImageCapture.Builder()
          .build()
  }
  private fun getMainExecutor() = ContextCompat.getMainExecutor(requireContext())
  private fun takePhoto() {
      val imageCapture = imageCapture ?: return
      imageCapture.takePicture(
          getMainExecutor(),
          getImageCapturedCallback()
      )
  }
  private fun getImageCapturedCallback(): TimeStampCameraCallback =
      TimeStampCameraCallback().apply {
          setOnCaptureSuccessListener { imageCaptureEvent(it) }
      }
  private fun imageCaptureEvent(image: Bitmap) {
      cameraViewModel.image = image
      cameraViewModel.isEnableTimer = false
      (requireActivity() as TimeStampCameraActivity).changeFragment(
          CameraResultFragment(),
          null
      )
  }
  ```

  

# ğŸ’« Packaging

```text
ğŸŒ…meaning.morning
 â”£ ğŸ“‚data
 â”£ ğŸ“‚network
 â”ƒ â”£ ğŸ“‚request
 â”ƒ â”£ ğŸ“‚response
 â”£  ğŸ“‚presentation
 â”ƒ â”£ ğŸ“‚adapter
 â”ƒ â”ƒ â”£ ğŸ“‚feed
 â”ƒ â”ƒ â”£ ğŸ“‚group
 â”ƒ â”ƒ â”£ ğŸ“‚home
 â”ƒ â”£ ğŸ“‚camera
 â”ƒ â”£ ğŸ“‚group
 â”ƒ â”ƒ â”£ ğŸ“‚feed
 â”ƒ â”£ ğŸ“‚home
 â”ƒ â”ƒ â”£ ğŸ“‚card
 â”ƒ â”ƒ â”£ ğŸ“‚feed
 â”ƒ â”£ ğŸ“‚login
 â”ƒ â”— ğŸ“‚onboarding
 â”—ğŸ“‚utils
```

# ğŸ’« Main Feature Codes & Methods
### âœ” sharedPreference ì‹±ê¸€í„´ ì‘ì„±

> objectë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì‘ì„±í•˜ê¸°.
>
> Multi-Thread Safeí•˜ë„ë¡ ë§Œë“¤ê¸°.
>
> SharedPreferenceì§€ë§Œ ë³´ë‹¤ ì§ê´€ì ì¸ ì´ë¦„ì„ ì‚¬ìš©í•˜ê¸°.

```kotlin
class MeaningStorage(context: Context) {
	/* ... */
    companion object {
        private var instance: MeaningStorage? = null
        
        fun getInstance(context: Context) = instance ?: synchronized(this) {
            instance ?: MeaningStorage(context).apply {
                instance = this
            }
        }
    }
}
```

### âœ” TimeStamp Camera

<img src="https://user-images.githubusercontent.com/45380072/104729087-41b66b00-577b-11eb-89f8-5921c6e6faa6.png" alt="image" width=150 /><img src="https://user-images.githubusercontent.com/45380072/104729115-4aa73c80-577b-11eb-90c3-73259e7f5ce0.png" alt="image" width=150 /><img src="https://user-images.githubusercontent.com/45380072/104729124-4ed35a00-577b-11eb-85f5-14af7fb65853.png" alt="image" width=150 />

- **Camera Permission**

```kotlin
    private fun initTimeStampCamera() {
        if (allPermissionGranted()) {
            loadCameraView()
            return
        }
        requestPermission()
    }

    private fun allPermissionGranted() = REQUIRED_PERMISSIONS.all {
        ContextCompat.checkSelfPermission(
            applicationContext,
            it
        ) == PackageManager.PERMISSION_GRANTED
    }

    private fun requestPermission() {
        ActivityCompat.requestPermissions(
            this,
            REQUIRED_PERMISSIONS,
            CameraViewModel.REQUEST_CODE_PERMISSIONS
        )
    }

    override fun onRequestPermissionsResult(
        requestCode: Int,
        permissions: Array<out String>,
        grantResults: IntArray
    ) {
        if (requestCode == CameraViewModel.REQUEST_CODE_PERMISSIONS) {
            permissionResponseEvent()
        }
    }

    private fun permissionResponseEvent() {
        if (allPermissionGranted()) {
            loadCameraView()
            return
        }
        permissionDeniedEvent()
    }

    private fun permissionDeniedEvent() {
        showToast("ê¶Œí•œì„ ìŠ¹ì¸í•˜ì§€ ì•Šìœ¼ë©´ ë‹¹ì‹ ì˜ ë¯¸ë¼í´ ëª¨ë‹ì„ ê¸°ë¡í•  ìˆ˜ ì—†ì–´ìš”!")
        finish()
    }

    private fun loadCameraView() {
        changeFragment(CameraFragment())
    }

    private fun changeFragment(initFragment: Fragment) {
        val transaction = supportFragmentManager.beginTransaction()
        transaction.apply {
            replace(R.id.fragment_camera, initFragment)
            commit()
        }
    }
```

```kotlin
    private fun startCamera() {
        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())
        cameraProviderFuture.addListener(
            cameraProvideFutureListener(cameraProviderFuture),
            getMainExecutor()
        )
    }

    private fun cameraProvideFutureListener(
        cameraProviderFuture: ListenableFuture<ProcessCameraProvider>
    ) = Runnable {
        val cameraProvider: ProcessCameraProvider = cameraProviderFuture.get()
        val preview = getCameraPreview()
        val cameraSelector = CameraSelector.DEFAULT_BACK_CAMERA
        setImageCapture()
        try {
            cameraProvider.unbindAll()
            cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture)
        } catch (failBindException: Exception) {
            Log.e(TAG, "Use case binding failed", failBindException)
        }
    }

    private fun getCameraPreview(): Preview = Preview.Builder()
        .build()
        .also {
            it.setSurfaceProvider(binding.cameraViewFinder.surfaceProvider)
        }

    private fun setImageCapture() {
        imageCapture = ImageCapture.Builder()
            .build()
    }

    private fun getMainExecutor() = ContextCompat.getMainExecutor(requireContext())

    private fun takePhoto() {
        val imageCapture = imageCapture ?: return
        imageCapture.takePicture(
            getMainExecutor(),
            getImageCapturedCallback()
        )
    }

    private fun getImageCapturedCallback(): TimeStampCameraCallback =
        TimeStampCameraCallback().apply {
            setOnCaptureSuccessListener { imageCaptureEvent(it) }
        }

    private fun imageCaptureEvent(image: Bitmap) {
        cameraViewModel.image = image
        cameraViewModel.isEnableTimer = false
        /* ... */
    }

```

ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì–´ì§„ ì¹´ë©”ë¼ë¥¼ ë·°ëª¨ë¸ì— ì €ì¥í•˜ì—¬ ê²°ê³¼ ì°½ìœ¼ë¡œ ë„˜ê¸°ê³  ê²°ê³¼ì°½ì—ì„œëŠ” í•´ë‹¹ ë·°ë¥¼ Bitmapìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥í•œë‹¤.

```kotlin
class TimeStampImageCreator(private val context: Context) {
    /* ... */
    fun saveOf(viewGroup: ConstraintLayout) {
        val width = viewGroup.width
        val height = viewGroup.height
        removeViewEvent(viewGroup)
        val bitmapBuffer = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888)
        val canvas = Canvas(bitmapBuffer)
        viewGroup.draw(canvas)
        saveImage(bitmapBuffer)
    }
    
    private fun removeViewEvent(viewGroup: ConstraintLayout) {
        viewGroup.apply {
            clearFocus()
            isPressed = false
            invalidate()
        }
    }
    private fun getOutputDirectory(): File {
        val mediaDir = context.externalMediaDirs.firstOrNull()?.let {
            File(it, context.resources.getString(R.string.app_name)).apply {
                mkdirs()
            }
        }
        return if (mediaDir != null && mediaDir.exists()) mediaDir else context.filesDir
    }

    private fun saveImage(bitmapBuffer: Bitmap) {
        photo = getPhotoFile()
        try {
            val outputStream = FileOutputStream(photo)
            bitmapBuffer.compress(Bitmap.CompressFormat.JPEG, 100, outputStream)
            outputStream.close()
            galleryAddPicture()
        } catch (errorMessage: FileNotFoundException) {
            errorMessage.stackTrace
        } catch (errorMessage: IOException) {
            errorMessage.stackTrace
        } finally {
            bitmapBuffer.recycle()
        }
    }

    private fun getPhotoFile() = File(
        getOutputDirectory(),
        SimpleDateFormat(
            "yyyy-MM-dd HH:mm:ss",
            Locale.KOREA
        ).format(System.currentTimeMillis()) + ".jpeg"
    )
}
```

ë§Œë“  íŒŒì¼ì€ ê¸€ì“°ê¸° í™”ë©´ìœ¼ë¡œ ë„˜ê¸´ë‹¤.



###  âœ” MyFeedPictureAdapter

ì•„ì´í…œ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì¸í„°í˜ì´ìŠ¤ë¡œ ë¶„ë¦¬.

```kotlin
class MyFeedPictureAdapter : RecyclerView.Adapter<MyFeedPictureAdapter.MyFeedPictureViewHolder>() {
    var data = mutableListOf<MyFeedPictureData>()
    private lateinit var itemClickListener : ItemClickListener
    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyFeedPictureViewHolder {
        val binding = FeedItemListBinding.inflate(LayoutInflater.from(parent.context), parent, false)
        return MyFeedPictureViewHolder(binding)
    }
    override fun getItemCount(): Int {
        return data.size
    }
    override fun onBindViewHolder(holder: MyFeedPictureViewHolder, position: Int) {
        holder.onBind(data[position])
        holder.itemView.setOnClickListener {
            itemClickListener.onClick(it,position)
        }
    }
    fun submitData(list : List<MyFeedPictureData>){
        data.addAll(list)
        notifyDataSetChanged()
    }
    class MyFeedPictureViewHolder(val binding: FeedItemListBinding) : RecyclerView.ViewHolder(binding.root) {
        fun onBind(data: MyFeedPictureData) {
            binding.feedItemList = data
        }
    }
    interface ItemClickListener{
        fun onClick(view : View, position: Int)
    }
    fun setItemClickListener(itemClickListener: ItemClickListener){
        this.itemClickListener = itemClickListener
    }
}
```

# ğŸ’« Layout ê´€ë ¨

- **Layout ì‚¬ìš©**

  ë°ì´í„° ë°”ì¸ë”©ìœ¼ë¡œ ì‚¬ìš©ìœ¼ë¡œ ëª¨ë“  ë·°ì˜ ìµœìƒìœ„ê°€ Layout íƒœê·¸ ì•„ë˜ ìˆìŒ

- **coordinatorlayout, NestedScrollView ì‚¬ìš©**
  ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë°œìƒì‹œ behaviorë¥¼ ì´ìš©í•˜ì—¬ ë·°ì˜ ë³€ê²½ì„ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©.

  ```text
  - fragment_group.xml
  - activity_my_feed_main.xml
  - activity_group_settting.xml
  ```

  

- ë‹¨ìˆœ ë„í˜• ì—ì…‹ - ìº˜ë¦°ë” ë·° ì•„ë˜ ì›

![image](https://user-images.githubusercontent.com/45380072/104737606-d0c98000-5787-11eb-9b46-955d8233d148.png)


  radius í™•ì¸ì´ ë¶ˆê°€ëŠ¥í•˜ì—¬ ë””ìì´ë„ˆì—ê²Œ ìš”ì²­í›„ ì—ì…‹ìœ¼ë¡œ ë°›ê¸°ë¡œí•¨

  ```text
  - HomeFragment
  ```

  

- ì ˆëŒ€ í¬ê¸° ì§€ì •

  ```
  - feed_item_list.xml
  - dialog_group_recycler.xml
  - dialog_group_detail.xml
  - fragment_home.xml
  ```

  - feed_item_list : í”¼ë“œ ì•„ì´í…œìœ¼ë¡œ ë“¤ì–´ì˜¬ ì‚¬ì§„ í¬ê¸°ê°€ ê¸°ê¸°ë³„ë¡œ ë‹¤ë¥¼ ê²½ìš°ë¥¼ ë”°ë¼ ì ˆëŒ€ í¬ê¸° ì§€ì •
  - dialog : í™”ë©´ ë¹„ìœ¨ì— ë”°ë¼ê°€ ì•„ë‹Œ ë‹¤ì´ì–¼ë¡œê·¸ ì°½ì˜ í¬ê¸° ê³ ì •ì„ ìœ„í•´ì„œ ì‚¬ìš©
  - fragement_home.xml : > ëª¨ì–‘ ì—ì…‹ í¬ê¸°ê°€ ë„ˆë¬´ ì‘ë‹¤ëŠ” ìš”ì²­ì— ì ˆëŒ€í¬ê¸°ë¡œ ì•½ê°„ í¬ê¸° ì¦ê°€ ì§€ì •.




